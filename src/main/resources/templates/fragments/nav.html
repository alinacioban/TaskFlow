<!-- =======================
     SIDEBAR + TOPBAR (Jira-style)
     ======================= -->
<nav th:fragment="nav(active)"
     class="d-flex">

  <!-- ==== SIDEBAR ==== -->
  <aside class="bg-dark text-white vh-100 shadow-sm"
         style="width: 240px; position: fixed; left:0; top:0;">

    <!-- Logo + Title -->
    <div class="d-flex align-items-center gap-2 px-3 py-3 border-bottom border-secondary">
      <img th:src="@{/img/LOGO_TASKFLOW.png}" width="32" height="32" class="rounded-2">
      <span class="fw-bold fs-5">TaskFlow</span>
    </div>

    <!-- Menu list -->
    <ul class="nav flex-column mt-3">

      <!-- Dashboard -->
      <li class="nav-item">
        <a class="nav-link px-3 text-white"
           th:classappend="${active}=='dashboard'?' active-item':''"
           th:href="@{/}">
          <i class="bi bi-speedometer2 me-2"></i> Dashboard
        </a>
      </li>

      <!-- Projects -->
      <li class="nav-item">
        <a class="nav-link px-3 text-white"
           th:classappend="${active}=='projects'?' active-item':''"
           th:href="@{/projects}">
          <i class="bi bi-folder2-open me-2"></i> Proiecte
        </a>
      </li>

      <!-- Tasks -->
      <li class="nav-item">
        <a class="nav-link px-3 text-white"
           th:classappend="${active}=='tasks'?' active-item':''"
           th:href="@{/tasks}">
          <i class="bi bi-list-check me-2"></i> Task-uri
        </a>
      </li>

      <!-- Kanban -->
      <li class="nav-item">
        <a class="nav-link px-3 text-white"
           th:classappend="${active}=='kanban'?' active-item':''"
           th:href="@{/kanban}">
          <i class="bi bi-kanban me-2"></i> Kanban Board
        </a>
      </li>

      <!-- Raportări -->
      <li class="nav-item">
        <a class="nav-link px-3 text-white"
           th:classappend="${active}=='reports'?' active-item':''"
           th:href="@{/reports}">
          <i class="bi bi-graph-up me-2"></i> Rapoarte
        </a>
      </li>

    </ul>
  </aside>

  <!-- ==== TOPBAR ==== -->
<header class="bg-white shadow-sm d-flex align-items-center justify-content-end px-4"
        style="height: 56px; position: fixed; top: 0; left: 240px; z-index: 900;">

    <div class="dropdown">
        <button class="btn btn-light dropdown-toggle" data-bs-toggle="dropdown">
            <i class="bi bi-person-circle me-1"></i> Profil
        </button>

        <ul class="dropdown-menu dropdown-menu-end">
            <li><a class="dropdown-item" href="#"><i class="bi bi-gear me-2"></i> Setări</a></li>
            <li><a class="dropdown-item" href="#"><i class="bi bi-person me-2"></i> Contul meu</a></li>
            <li><hr class="dropdown-divider"></li>
            <li>
                <a class="dropdown-item text-danger" th:href="@{/logout}">
                    <i class="bi bi-box-arrow-right me-2"></i> Deconectare
                </a>
            </li>
        </ul>
    </div>

</header>


</nav>

<!-- ===== CSS pentru active state ===== -->
<style>
  .active-item {
    background-color: #0d6efd !important;
    font-weight: 600;
    border-radius: 4px;
  }

  .nav-link:hover {
    background-color: rgba(255,255,255,0.15);
  }
</style>