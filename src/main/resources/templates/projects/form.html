<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: base(
          ${projectDTO.id}!=null?'EditeazÄƒ Proiect Â· TaskFlow':'Proiect Nou Â· TaskFlow',
          'projects',
          ~{::content}
      )}">

<th:block th:fragment="content">

  <!-- HEADER -->
  <div class="d-flex align-items-center justify-content-between mb-3">
    <div class="d-flex align-items-center gap-2">
      <img th:src="@{/img/LOGO_TASKFLOW.png}" alt="logo" width="28" height="28" class="rounded-2">
      <h1 class="h5 mb-0" th:text="${projectDTO.id}!=null?'EditeazÄƒ Proiect':'Proiect Nou'">Proiect Nou</h1>
    </div>

    <a class="btn btn-outline-secondary" th:href="@{/projects}">
      <i class="bi bi-arrow-left me-1"></i> ÃŽnapoi
    </a>
  </div>

  <!-- FORMULAR -->
  <form th:action="${projectDTO.id}!=null ? @{'/projects/' + ${projectDTO.id}} : @{/projects}"
        th:object="${projectDTO}"
        method="post"
        class="card p-4 shadow-sm needs-validation"
        novalidate>

    <input type="hidden" th:field="*{id}"/>

    <div class="row g-3">

      <!-- NUME PROIECT -->
      <div class="col-md-6">
        <label class="form-label fw-semibold">Nume Proiect</label>
        <input class="form-control" th:field="*{name}" required maxlength="120">
        <div class="invalid-feedback">Numele proiectului este obligatoriu.</div>
      </div>

      <!-- CATEGORIE -->
      <div class="col-md-6">
        <label class="form-label fw-semibold">Categorie (IT)</label>
        <select class="form-select" th:field="*{category}">
          
          <option value="">SelecteazÄƒ categoria</option>

          <optgroup label="ðŸ’» Development">
            <option value="Software Development">Software Development</option>
            <option value="QA / Testing">QA / Testing</option>
          </optgroup>

          <optgroup label="â˜ï¸ Cloud & DevOps">
            <option value="DevOps">DevOps</option>
            <option value="Cloud Engineering">Cloud Engineering</option>
            <option value="IT Automation">IT Automation</option>
          </optgroup>

          <optgroup label="ðŸ§  Data & AI">
            <option value="Data Engineering">Data Engineering</option>
            <option value="Machine Learning / AI">Machine Learning / AI</option>
          </optgroup>

          <optgroup label="ðŸ—ï¸ Infrastructure">
            <option value="Infrastructure">Infrastructure</option>
            <option value="Networking">Networking</option>
            <option value="System Administration">System Administration</option>
          </optgroup>

          <optgroup label="ðŸ” Security">
            <option value="Cybersecurity">Cybersecurity</option>
          </optgroup>

          <optgroup label="ðŸ“Š Operations">
            <option value="Observability & Monitoring">Observability & Monitoring</option>
            <option value="IT Operations">IT Operations</option>
            <option value="IT Support">IT Support</option>
          </optgroup>

        </select>
      </div>

      <!-- DESCRIERE -->
      <div class="col-12">
        <label class="form-label fw-semibold">Descriere</label>
        <textarea class="form-control" th:field="*{description}" rows="4" maxlength="1500"></textarea>
      </div>

      <!-- DATE -->
      <div class="col-md-6">
        <label class="form-label fw-semibold">Data de Ã®nceput</label>
        <input type="date" class="form-control" th:field="*{startDate}">
      </div>

      <div class="col-md-6">
        <label class="form-label fw-semibold">Data de finalizare</label>
        <input type="date" class="form-control" th:field="*{endDate}">
      </div>

      <!-- PRIORITATE -->
      <div class="col-md-6">
        <label class="form-label fw-semibold">Prioritate</label>
        <select class="form-select" th:field="*{priority}">
        <option th:each="p : ${priorities}"
            th:value="${p}"
            th:text="${p}"></option>
</select>
      </div>

      <!-- STATUS -->
      <div class="col-md-6">
        <label class="form-label fw-semibold">Status</label>
        <select class="form-select" th:field="*{status}">
          <option th:each="s : ${statuses}"
            th:value="${s}"
            th:text="${s}"></option>
        </select>
      </div>

      <!-- PROJECT LEAD -->
      <div class="col-md-6">
        <label class="form-label fw-semibold">Manager Proiect</label>
        <input class="form-control" th:field="*{lead}" placeholder="ex: Maria Cioban">
      </div>

      <!-- TECH STACK -->
      <div class="col-md-6">
        <label class="form-label fw-semibold">Tehnologii utilizate</label>
        <input class="form-control" th:field="*{techStack}" placeholder="ex: Java, Spring, Docker, AWS">
      </div>

      <!-- REPOSITORY -->
      <div class="col-12">
        <label class="form-label fw-semibold">Link Repository</label>
        <input class="form-control" type="url" th:field="*{repository}" placeholder="https://github.com/...">
      </div>

    </div>

    <!-- BUTTONS -->
    <div class="d-flex gap-2 mt-4">
      <button class="btn btn-primary px-4">
        <i class="bi bi-check2 me-1"></i>
        <span th:text="${projectDTO.id}!=null?'SalveazÄƒ ModificÄƒrile':'CreeazÄƒ Proiect'"></span>
      </button>

      <a class="btn btn-outline-secondary" th:href="@{/projects}">AnuleazÄƒ</a>
    </div>
  </form>

</th:block>

</html>